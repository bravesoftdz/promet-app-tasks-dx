<!DOCTYPE html>
<html>
  <head>
    <title>Contact Manager</title>
    <script src="codebase/dhtmlx.js" type="text/javascript"></script>
    <link rel="STYLESHEET" type="text/css" href="codebase/dhtmlx.css">
    <link rel="STYLESHEET" type="text/css" href="codebase/dhtmlx.css">
    <style>
        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            margin: 0px;
            background-color: #EBEBEB;
        }
    </style>
    <script type="text/javascript">
        dhtmlxEvent(window,"load",function(){                          //provides your script as a handler of the 'onload' HTML event
	window.dhx4.skin = 'material';
	var main_layout = new dhtmlXLayoutObject(document.body, '1C');

	var a = main_layout.cells('a');
	a.hideHeader();
	var sbMain = a.attachSidebar({template: 'text', width: '200', icons_path: './codebase/imgs_sidebar/', autohide: '', header: ''});
	sbMain.addItem({id: 'siTasks', text: 'Aufgaben', icon: ''});
	var siTasks = sbMain.cells('siTasks');
	siTasks.setActive();
	var gTasks = siTasks.attachGrid();
	gTasks.setIconsPath('./codebase/imgs/');

	gTasks.setHeader(["Aufgabe","Projekt","Bis"]);
	gTasks.setColTypes("edtxt,edtxt,dhxCalendar");

	gTasks.setColSorting('str,str,date');
	gTasks.enableValidation(true, false);
gTasks.setColValidators(',,ValidDate');
	gTasks.setColumnMinWidth('100', 0);
	gTasks.setColumnMinWidth('100', 1);
	gTasks.setInitWidths('*,*,120');
	gTasks.init();

        var dsTasks = new dhtmlXDataStore({ url:"http://127.0.0.1:8085/masterdata/list.json", datatype:"json" });
        dsTasks.attachEvent("onLoadError", function(text, xml, loader){
          dhtmlx.message("The service is currently offline...");
          loader.setRequestHeader("Authorization", "Basic " + btoa(user + ":" + pass));
          loader.send(data);
        });
        gTasks.sync(dsTasks);

        });
    </script>
  </head>
  <body>
  </body>
</html>